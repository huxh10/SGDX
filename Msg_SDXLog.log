20170303 095906.037062:22006:MainThread:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 43:refmon: start
20170303 095906.038792:22006:MainThread:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 64:refmon: load config
20170303 095906.039378:22006:MainThread:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 200:ms_ctrlr: creating an instance of MultiSwitchController
20170303 095906.039620:22006:MainThread:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 25:server: start
20170303 095906.039776:22006:MainThread:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 35:server: receiver thread spawned
20170303 095906.039913:22006:MainThread:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 37:server: processor thread spawned
20170303 095906.052058:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 42:Starting StreamServer
20170303 095906.052197:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 62:RefMonStreamServer: serve_forever
20170303 095906.796692:22006:GreenThread-2:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 218:ms_ctrlr: switch connect: arp
20170303 095906.797541:22006:GreenThread-2:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 218:ms_ctrlr: switch connect: main
20170303 095906.797642:22006:GreenThread-2:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 218:ms_ctrlr: switch connect: inbound
20170303 095906.797756:22006:GreenThread-2:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 218:ms_ctrlr: switch connect: outbound
20170303 095906.797862:22006:GreenThread-2:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 234:ms_ctrlr: init fabric
20170303 095917.284849:22016:MainThread:INFO:xctrl:xctrl/xctrl.py 31:init
20170303 095917.285316:22016:MainThread:INFO:xctrl:xctrl/xctrl.py 35:REFMON client: localhost 5555
20170303 095917.285399:22016:MainThread:INFO:xctrl:xctrl/xctrl.py 48:mode GSSmS - OF v1.3
20170303 095917.285439:22016:MainThread:INFO:xctrl:xctrl/xctrl.py 56:start
20170303 095917.285477:22016:MainThread:INFO:GSSmS:/home/xiaohe/iSDX/xctrl/gss.py 198:start
20170303 095917.285528:22016:MainThread:INFO:GSSmS:/home/xiaohe/iSDX/xctrl/gss.py 209:init fabric
20170303 095917.285576:22016:MainThread:INFO:GSSmS:/home/xiaohe/iSDX/xctrl/gss.py 213:create flow mods to handle BGP traffic
20170303 095917.285643:22016:MainThread:INFO:GSSmS:/home/xiaohe/iSDX/xctrl/gss.py 217:create flow mods to handle ARP traffic
20170303 095917.285939:22016:MainThread:INFO:GSSmS:/home/xiaohe/iSDX/xctrl/gss.py 223:create flow mods to handle participant traffic
20170303 095917.287198:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 095917.287240:22016:MainThread:INFO:GSSmS:/home/xiaohe/iSDX/xctrl/gss.py 201:sent flow mods to reference monitor
20170303 095917.287323:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [{"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [1, 65535], "action": {"fwd": [4]}, "match": {"eth_dst": "08:00:27:89:3b:ff", "tcp_src": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [2, 65535], "action": {"fwd": [4]}, "match": {"eth_dst": "08:00:27:89:3b:ff", "tcp_dst": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [3, 65535], "action": {"fwd": [5]}, "match": {"eth_dst": "08:00:27:89:3b:9f", "tcp_src": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [4, 65535], "action": {"fwd": [5]}, "match": {"eth_dst": "08:00:27:89:3b:9f", "tcp_dst": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [5, 65535], "action": {"fwd": [6]}, "match": {"eth_dst": "08:00:27:92:18:1f", "tcp_src": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [6, 65535], "action": {"fwd": [6]}, "match": {"eth_dst": "08:00:27:92:18:1f", "tcp_dst": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [7, 65535], "action": {"fwd": [7]}, "match": {"eth_dst": "08:00:27:54:56:ea", "tcp_src": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [8, 65535], "action": {"fwd": [7]}, "match": {"eth_dst": "08:00:27:54:56:ea", "tcp_dst": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [9, 65535], "action": {"fwd": [8]}, "match": {"eth_dst": "08:00:27:bd:f8:b2", "tcp_src": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [10, 65535], "action": {"fwd": [8]}, "match": {"eth_dst": "08:00:27:bd:f8:b2", "tcp_dst": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [11, 65535], "action": {"fwd": [4]}, "match": {"eth_dst": "08:00:27:89:3b:ff", "eth_type": 2054}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [12, 65535], "action": {"fwd": [5]}, "match": {"eth_dst": "08:00:27:89:3b:9f", "eth_type": 2054}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [13, 65535], "action": {"fwd": [5], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:00:00:01", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [14, 65535], "action": {"fwd": [6]}, "match": {"eth_dst": "08:00:27:92:18:1f", "eth_type": 2054}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [15, 65535], "action": {"fwd": [6], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:00:00:02", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [16, 65535], "action": {"fwd": [7]}, "match": {"eth_dst": "08:00:27:54:56:ea", "eth_type": 2054}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [17, 65535], "action": {"fwd": [8]}, "match": {"eth_dst": "08:00:27:bd:f8:b2", "eth_type": 2054}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [18, 65535], "action": {"fwd": [7], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [19, 65535], "action": {"fwd": [8], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:01:00:03", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp_broadcast", "cookie": [20, 65535], "action": {"fwd": [5, 6, 7, 8, 4]}, "match": {"eth_dst": "ff:ff:ff:ff:ff:ff", "eth_type": 2054, "in_port": "arp"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp_filter", "cookie": [21, 65535], "action": {"fwd": ["arp"]}, "match": {"eth_type": 2054}}, {"rule_type": "arp", "mod_type": "insert", "priority": "vnh_arp", "cookie": [22, 65535], "action": {"fwd": [2]}, "match": {"arp_tpa": ["172.0.1.0", "255.255.255.0"], "eth_type": 2054, "in_port": "main"}}, {"rule_type": "arp", "mod_type": "insert", "priority": "default", "cookie": [23, 65535], "action": {"fwd": [4294967288]}, "match": {"eth_type": 2054, "in_port": "main"}}, {"rule_type": "arp", "mod_type": "insert", "priority": "default", "cookie": [24, 65535], "action": {"fwd": ["main"]}, "match": {"eth_type": 2054, "in_port": "arp proxy"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "outbound", "cookie": [25, 65535], "action": {"fwd": ["outbound"], "set_eth_src": "08:00:27:89:3b:9f"}, "match": {"in_port": 5}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [26, 65535], "action": {"fwd": [7], "set_eth_dst": "08:00:27:54:56:ea"}, "match": {"eth_dst": ["00:00:00:00:00:03", "80:00:03:ff:ff:ff"]}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [27, 65535], "action": {"fwd": [8], "set_eth_dst": "08:00:27:bd:f8:b2"}, "match": {"eth_dst": ["00:00:00:01:00:03", "80:00:03:ff:ff:ff"]}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [28, 65535], "action": {"fwd": [5], "set_eth_dst": "08:00:27:89:3b:9f"}, "match": {"eth_dst": ["00:00:00:00:00:01", "00:00:00:00:ff:ff"]}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [29, 65535], "action": {"fwd": [6], "set_eth_dst": "08:00:27:92:18:1f"}, "match": {"eth_dst": ["00:00:00:00:00:02", "00:00:00:00:ff:ff"]}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "loop", "cookie": [30, 65535], "action": {}, "match": {"in_port": "inbound"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "inbound", "cookie": [31, 65535], "action": {"fwd": ["outbound"]}, "match": {"eth_dst": ["80:00:00:00:00:00", "80:00:00:00:00:00"]}}, {"rule_type": "outbound", "mod_type": "insert", "priority": "default", "cookie": [32, 65535], "action": {"fwd": ["inbound"]}, "match": {}}, {"rule_type": "inbound", "mod_type": "insert", "priority": "inbound", "cookie": [33, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:00:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"]}}, {"rule_type": "inbound", "mod_type": "insert", "priority": "default", "cookie": [34, 65535], "action": {"fwd": ["main-in"]}, "match": {}}], "auth_info": {"participant": 0, "key": "no key"}}
20170303 095917.287437:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 095917.287887:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [{"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [1, 65535], "action": {"fwd": [4]}, "match": {"eth_dst": "08:00:27:89:3b:ff", "tcp_src": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [2, 65535], "action": {"fwd": [4]}, "match": {"eth_dst": "08:00:27:89:3b:ff", "tcp_dst": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [3, 65535], "action": {"fwd": [5]}, "match": {"eth_dst": "08:00:27:89:3b:9f", "tcp_src": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [4, 65535], "action": {"fwd": [5]}, "match": {"eth_dst": "08:00:27:89:3b:9f", "tcp_dst": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [5, 65535], "action": {"fwd": [6]}, "match": {"eth_dst": "08:00:27:92:18:1f", "tcp_src": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [6, 65535], "action": {"fwd": [6]}, "match": {"eth_dst": "08:00:27:92:18:1f", "tcp_dst": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [7, 65535], "action": {"fwd": [7]}, "match": {"eth_dst": "08:00:27:54:56:ea", "tcp_src": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [8, 65535], "action": {"fwd": [7]}, "match": {"eth_dst": "08:00:27:54:56:ea", "tcp_dst": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [9, 65535], "action": {"fwd": [8]}, "match": {"eth_dst": "08:00:27:bd:f8:b2", "tcp_src": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [10, 65535], "action": {"fwd": [8]}, "match": {"eth_dst": "08:00:27:bd:f8:b2", "tcp_dst": 179}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [11, 65535], "action": {"fwd": [4]}, "match": {"eth_dst": "08:00:27:89:3b:ff", "eth_type": 2054}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [12, 65535], "action": {"fwd": [5]}, "match": {"eth_dst": "08:00:27:89:3b:9f", "eth_type": 2054}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [13, 65535], "action": {"fwd": [5], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:00:00:01", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [14, 65535], "action": {"fwd": [6]}, "match": {"eth_dst": "08:00:27:92:18:1f", "eth_type": 2054}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [15, 65535], "action": {"fwd": [6], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:00:00:02", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [16, 65535], "action": {"fwd": [7]}, "match": {"eth_dst": "08:00:27:54:56:ea", "eth_type": 2054}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [17, 65535], "action": {"fwd": [8]}, "match": {"eth_dst": "08:00:27:bd:f8:b2", "eth_type": 2054}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [18, 65535], "action": {"fwd": [7], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [19, 65535], "action": {"fwd": [8], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:01:00:03", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp_broadcast", "cookie": [20, 65535], "action": {"fwd": [5, 6, 7, 8, 4]}, "match": {"eth_dst": "ff:ff:ff:ff:ff:ff", "eth_type": 2054, "in_port": "arp"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "arp_filter", "cookie": [21, 65535], "action": {"fwd": ["arp"]}, "match": {"eth_type": 2054}}, {"rule_type": "arp", "mod_type": "insert", "priority": "vnh_arp", "cookie": [22, 65535], "action": {"fwd": [2]}, "match": {"arp_tpa": ["172.0.1.0", "255.255.255.0"], "eth_type": 2054, "in_port": "main"}}, {"rule_type": "arp", "mod_type": "insert", "priority": "default", "cookie": [23, 65535], "action": {"fwd": [4294967288]}, "match": {"eth_type": 2054, "in_port": "main"}}, {"rule_type": "arp", "mod_type": "insert", "priority": "default", "cookie": [24, 65535], "action": {"fwd": ["main"]}, "match": {"eth_type": 2054, "in_port": "arp proxy"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "outbound", "cookie": [25, 65535], "action": {"fwd": ["outbound"], "set_eth_src": "08:00:27:89:3b:9f"}, "match": {"in_port": 5}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [26, 65535], "action": {"fwd": [7], "set_eth_dst": "08:00:27:54:56:ea"}, "match": {"eth_dst": ["00:00:00:00:00:03", "80:00:03:ff:ff:ff"]}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [27, 65535], "action": {"fwd": [8], "set_eth_dst": "08:00:27:bd:f8:b2"}, "match": {"eth_dst": ["00:00:00:01:00:03", "80:00:03:ff:ff:ff"]}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [28, 65535], "action": {"fwd": [5], "set_eth_dst": "08:00:27:89:3b:9f"}, "match": {"eth_dst": ["00:00:00:00:00:01", "00:00:00:00:ff:ff"]}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [29, 65535], "action": {"fwd": [6], "set_eth_dst": "08:00:27:92:18:1f"}, "match": {"eth_dst": ["00:00:00:00:00:02", "00:00:00:00:ff:ff"]}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "loop", "cookie": [30, 65535], "action": {}, "match": {"in_port": "inbound"}}, {"rule_type": "main-in", "mod_type": "insert", "priority": "inbound", "cookie": [31, 65535], "action": {"fwd": ["outbound"]}, "match": {"eth_dst": ["80:00:00:00:00:00", "80:00:00:00:00:00"]}}, {"rule_type": "outbound", "mod_type": "insert", "priority": "default", "cookie": [32, 65535], "action": {"fwd": ["inbound"]}, "match": {}}, {"rule_type": "inbound", "mod_type": "insert", "priority": "inbound", "cookie": [33, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:00:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"]}}, {"rule_type": "inbound", "mod_type": "insert", "priority": "default", "cookie": [34, 65535], "action": {"fwd": ["main-in"]}, "match": {}}], "auth_info": {"participant": 0, "key": "no key"}}
20170303 095917.287988:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488563957.29
20170303 095917.288074:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 0
20170303 095917.288181:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [1, 65535], "action": {"fwd": [4]}, "match": {"eth_dst": "08:00:27:89:3b:ff", "tcp_src": 179}}
20170303 095917.288243:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [2, 65535], "action": {"fwd": [4]}, "match": {"eth_dst": "08:00:27:89:3b:ff", "tcp_dst": 179}}
20170303 095917.288317:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [3, 65535], "action": {"fwd": [5]}, "match": {"eth_dst": "08:00:27:89:3b:9f", "tcp_src": 179}}
20170303 095917.288388:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [4, 65535], "action": {"fwd": [5]}, "match": {"eth_dst": "08:00:27:89:3b:9f", "tcp_dst": 179}}
20170303 095917.288484:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [5, 65535], "action": {"fwd": [6]}, "match": {"eth_dst": "08:00:27:92:18:1f", "tcp_src": 179}}
20170303 095917.288538:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [6, 65535], "action": {"fwd": [6]}, "match": {"eth_dst": "08:00:27:92:18:1f", "tcp_dst": 179}}
20170303 095917.288592:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [7, 65535], "action": {"fwd": [7]}, "match": {"eth_dst": "08:00:27:54:56:ea", "tcp_src": 179}}
20170303 095917.288661:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [8, 65535], "action": {"fwd": [7]}, "match": {"eth_dst": "08:00:27:54:56:ea", "tcp_dst": 179}}
20170303 095917.288742:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [9, 65535], "action": {"fwd": [8]}, "match": {"eth_dst": "08:00:27:bd:f8:b2", "tcp_src": 179}}
20170303 095917.288822:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "bgp", "cookie": [10, 65535], "action": {"fwd": [8]}, "match": {"eth_dst": "08:00:27:bd:f8:b2", "tcp_dst": 179}}
20170303 095917.288875:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [11, 65535], "action": {"fwd": [4]}, "match": {"eth_dst": "08:00:27:89:3b:ff", "eth_type": 2054}}
20170303 095917.288930:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [12, 65535], "action": {"fwd": [5]}, "match": {"eth_dst": "08:00:27:89:3b:9f", "eth_type": 2054}}
20170303 095917.291298:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [13, 65535], "action": {"fwd": [5], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:00:00:01", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}
20170303 095917.291415:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [14, 65535], "action": {"fwd": [6]}, "match": {"eth_dst": "08:00:27:92:18:1f", "eth_type": 2054}}
20170303 095917.291519:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [15, 65535], "action": {"fwd": [6], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:00:00:02", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}
20170303 095917.291587:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [16, 65535], "action": {"fwd": [7]}, "match": {"eth_dst": "08:00:27:54:56:ea", "eth_type": 2054}}
20170303 095917.291650:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [17, 65535], "action": {"fwd": [8]}, "match": {"eth_dst": "08:00:27:bd:f8:b2", "eth_type": 2054}}
20170303 095917.291711:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [18, 65535], "action": {"fwd": [7], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}
20170303 095917.291774:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "arp", "cookie": [19, 65535], "action": {"fwd": [8], "set_eth_dst": "ff:ff:ff:ff:ff:ff"}, "match": {"eth_dst": ["00:00:00:01:00:03", "00:00:03:ff:ff:ff"], "eth_type": 2054, "in_port": "arp"}}
20170303 095917.291833:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "arp_broadcast", "cookie": [20, 65535], "action": {"fwd": [5, 6, 7, 8, 4]}, "match": {"eth_dst": "ff:ff:ff:ff:ff:ff", "eth_type": 2054, "in_port": "arp"}}
20170303 095917.291891:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "arp_filter", "cookie": [21, 65535], "action": {"fwd": ["arp"]}, "match": {"eth_type": 2054}}
20170303 095917.291950:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "arp", "mod_type": "insert", "priority": "vnh_arp", "cookie": [22, 65535], "action": {"fwd": [2]}, "match": {"arp_tpa": ["172.0.1.0", "255.255.255.0"], "eth_type": 2054, "in_port": "main"}}
20170303 095917.292008:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "arp", "mod_type": "insert", "priority": "default", "cookie": [23, 65535], "action": {"fwd": [4294967288]}, "match": {"eth_type": 2054, "in_port": "main"}}
20170303 095917.292065:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "arp", "mod_type": "insert", "priority": "default", "cookie": [24, 65535], "action": {"fwd": ["main"]}, "match": {"eth_type": 2054, "in_port": "arp proxy"}}
20170303 095917.292156:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "outbound", "cookie": [25, 65535], "action": {"fwd": ["outbound"], "set_eth_src": "08:00:27:89:3b:9f"}, "match": {"in_port": 5}}
20170303 095917.292225:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [26, 65535], "action": {"fwd": [7], "set_eth_dst": "08:00:27:54:56:ea"}, "match": {"eth_dst": ["00:00:00:00:00:03", "80:00:03:ff:ff:ff"]}}
20170303 095917.292310:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [27, 65535], "action": {"fwd": [8], "set_eth_dst": "08:00:27:bd:f8:b2"}, "match": {"eth_dst": ["00:00:00:01:00:03", "80:00:03:ff:ff:ff"]}}
20170303 095917.292393:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [28, 65535], "action": {"fwd": [5], "set_eth_dst": "08:00:27:89:3b:9f"}, "match": {"eth_dst": ["00:00:00:00:00:01", "00:00:00:00:ff:ff"]}}
20170303 095917.292475:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "output", "cookie": [29, 65535], "action": {"fwd": [6], "set_eth_dst": "08:00:27:92:18:1f"}, "match": {"eth_dst": ["00:00:00:00:00:02", "00:00:00:00:ff:ff"]}}
20170303 095917.292554:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "loop", "cookie": [30, 65535], "action": {}, "match": {"in_port": "inbound"}}
20170303 095917.292611:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "main-in", "mod_type": "insert", "priority": "inbound", "cookie": [31, 65535], "action": {"fwd": ["outbound"]}, "match": {"eth_dst": ["80:00:00:00:00:00", "80:00:00:00:00:00"]}}
20170303 095917.292690:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "outbound", "mod_type": "insert", "priority": "default", "cookie": [32, 65535], "action": {"fwd": ["inbound"]}, "match": {}}
20170303 095917.292772:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "inbound", "mod_type": "insert", "priority": "inbound", "cookie": [33, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:00:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"]}}
20170303 095917.292852:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 0: {"rule_type": "inbound", "mod_type": "insert", "priority": "default", "cookie": [34, 65535], "action": {"fwd": ["main-in"]}, "match": {}}
20170303 095917.293243:22006:GreenThread-3:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 273:ms_ctrlr: sending barrier
20170303 095917.298277:22006:GreenThread-3:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 273:ms_ctrlr: sending barrier
20170303 095917.299992:22006:GreenThread-3:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 273:ms_ctrlr: sending barrier
20170303 095917.300271:22006:GreenThread-3:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 273:ms_ctrlr: sending barrier
20170303 095932.447289:22031:MainThread:INFO:arp:arproxy/arproxy.py 248:Reading config file /home/xiaohe/iSDX/arproxy/../examples/test-ms/config/sdx_global.cfg
20170303 095932.447752:22031:MainThread:INFO:arp:arproxy/arproxy.py 251:Starting ARP Listener
20170303 095932.466140:22031:MainThread:INFO:arp:arproxy/arproxy.py 257:Starting PCTRL Listener
20170303 095932.466253:22031:MainThread:INFO:arp:arproxy/arproxy.py 138:Starting the PctrlListener
20170303 095932.467555:22031:MainThread:INFO:arp:arproxy/arproxy.py 143:ARP Response Handler started
20170303 104456.334645:23594:MainThread:INFO:XRS:xrs/route_server.py 260:Reading config file /home/xiaohe/iSDX/xrs/../examples/test-ms/config/sdx_global.cfg
20170303 104456.334950:23594:MainThread:DEBUG:XRS:xrs/route_server.py 239:Begin parsing config...
20170303 104456.335091:23594:MainThread:DEBUG:XRS:xrs/route_server.py 246:Done parsing config
20170303 104456.335143:23594:MainThread:INFO:XRS:xrs/route_server.py 172:Initializing the BGPListener
20170303 104456.335931:23594:Thread-1:INFO:XRS:xrs/route_server.py 180:Starting the Server to handle incoming BGP Updates.
20170303 104456.336034:23594:MainThread:INFO:XRS:xrs/route_server.py 137:Initializing the BGP PctrlListener
20170303 104456.337084:23594:Thread-2:INFO:XRS:xrs/route_server.py 143:Starting the BGP PctrlListener
20170303 104517.694261:23609:MainThread:INFO:P_1:pctrl/participant_controller.py 669:Starting controller with config file: /home/xiaohe/iSDX/examples/test-ms/config/sdx_global.cfg
20170303 104517.694559:23609:MainThread:INFO:P_1:pctrl/participant_controller.py 670:and policy file: /home/xiaohe/iSDX/examples/test-ms/policies/participant_1.py
20170303 104517.694771:23609:MainThread:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 25:Max bits: 31 Best path bits: 16
20170303 104517.694841:23609:MainThread:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 26:VMAC size: 48 Port size: 10
20170303 104517.695044:23609:Thread-1:INFO:P_1:pctrl/participant_controller.py 82:Starting controller for participant
20170303 104517.697618:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 238:Attempting to connect to xrs server at localhost port 6666
20170303 104517.697897:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 240:Connect to xrs successful.
20170303 104517.698020:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 238:Attempting to connect to arp server at localhost port 4444
20170303 104517.697876:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 152:Trace: PctrlListener.start: clientActivePool before: {}
20170303 104517.698196:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 240:Connect to arp successful.
20170303 104517.698045:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 153:Trace: PctrlListener.start: clientDeadPool before: set([])
20170303 104517.698431:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/participant_server.py 24:participant_server(1): start server
20170303 104517.698165:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 159:Trace: PctrlListener.start: clientActivePool after: {<__main__.PctrlClient object at 0x7ff588318250>: <Thread(Thread-3, initial)>}
20170303 104517.698591:22031:Thread-2:INFO:arp:arproxy/arproxy.py 50:ARP Pctrl Client started for client ip ('127.0.0.1', 44880).
20170303 104517.698247:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 160:Trace: PctrlListener.start: clientDeadPool after: set([])
20170303 104517.698767:23594:Thread-3:INFO:XRS:xrs/route_server.py 52:BGP PctrlClient started for client ip ('127.0.0.1', 38176).
20170303 104517.698846:23594:Thread-3:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"ports": ["172.0.0.1"], "peers_in": [2, 3], "msgType": "hello", "id": "1", "peers_out": [2, 3]}

20170303 104517.698902:23594:Thread-3:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'peers_in': [2, 3], u'msgType': u'hello', u'ports': [u'172.0.0.1'], u'peers_out': [2, 3], u'id': u'1'}

20170303 104517.699171:23609:Thread-1:INFO:P_1:pctrl/participant_controller.py 155:Initializing inbound rules
20170303 104517.698965:23594:Thread-3:DEBUG:XRS:xrs/route_server.py 113:Trace: PctrlClient.hello: portip2participant before: {}
20170303 104517.699004:23594:Thread-3:DEBUG:XRS:xrs/route_server.py 114:Trace: PctrlClient.hello: participants before: {}
20170303 104517.699039:23594:Thread-3:DEBUG:XRS:xrs/route_server.py 118:Trace: PctrlClient.hello: portip2participant after: {u'172.0.0.1': 1}
20170303 104517.699689:23609:Thread-1:DEBUG:P_1:pctrl/participant_controller.py 165:Rule Messages INBOUND:: {}
20170303 104517.699074:23594:Thread-3:DEBUG:XRS:xrs/route_server.py 119:Trace: PctrlClient.hello: participants after: {1: <__main__.PctrlClient object at 0x7ff588318250>}
20170303 104517.699758:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 35:Superset intial computation running..
20170303 104517.699796:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 153:~Recomputing all Supersets...
20170303 104517.699844:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {2: 1, 3: 2}
20170303 104517.699882:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 281:Prefix2Part called. Returning [](this should not be empty) 0
20170303 104517.699929:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 182:done.~
20170303 104517.699966:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 183:Supersets: >> []
20170303 104517.700002:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 48:Superset computation complete. Supersets: >> [] sdx_msgs: {'changes': [], 'type': 'new'}
20170303 104517.700050:23609:Thread-1:DEBUG:P_1:pctrl/participant_controller.py 169:Rule Messages OUTBOUND:: {"changes": [], "type": "new"}
20170303 104517.700092:23609:Thread-1:DEBUG:P_1:pctrl/participant_controller.py 177:Rule Messages:: {"changes": []}
20170303 104517.700132:23609:Thread-1:DEBUG:P_1:pctrl/participant_controller.py 188:Pushing current flow mod queue:
20170303 104517.700181:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 208:Attempting to connect to refmon server at localhost port 5555
20170303 104517.701170:23609:Thread-1:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 210:Connect to refmon successful.
20170303 104517.701168:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 104517.701373:23609:Thread-3:INFO:P_1:pctrl/participant_controller.py 220:ARP Event Handler started.
20170303 104517.701308:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [], "auth_info": {"participant": 1, "key": "Part1Key"}}
20170303 104517.701624:23609:Thread-4:INFO:P_1:pctrl/participant_controller.py 245:XRS Event Handler started.
20170303 104517.701431:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 104517.701619:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [], "auth_info": {"participant": 1, "key": "Part1Key"}}
20170303 104517.701687:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488566717.7
20170303 104517.701740:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 1
20170303 105116.312087:23813:MainThread:INFO:P_2:pctrl/participant_controller.py 669:Starting controller with config file: /home/xiaohe/iSDX/examples/test-ms/config/sdx_global.cfg
20170303 105116.312385:23813:MainThread:INFO:P_2:pctrl/participant_controller.py 670:and policy file: /home/xiaohe/iSDX/examples/test-ms/policies/participant_2.py
20170303 105116.312588:23813:MainThread:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 25:Max bits: 31 Best path bits: 16
20170303 105116.312635:23813:MainThread:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 26:VMAC size: 48 Port size: 10
20170303 105116.312819:23813:Thread-1:INFO:P_2:pctrl/participant_controller.py 82:Starting controller for participant
20170303 105116.315558:23813:Thread-1:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 238:Attempting to connect to xrs server at localhost port 6666
20170303 105116.315842:23813:Thread-1:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 240:Connect to xrs successful.
20170303 105116.315891:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 152:Trace: PctrlListener.start: clientActivePool before: {<__main__.PctrlClient object at 0x7ff588318250>: <Thread(Thread-3, started 140692509476608)>}
20170303 105116.315965:23813:Thread-1:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 238:Attempting to connect to arp server at localhost port 4444
20170303 105116.315979:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 153:Trace: PctrlListener.start: clientDeadPool before: set([])
20170303 105116.316173:23813:Thread-1:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 240:Connect to arp successful.
20170303 105116.316045:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 159:Trace: PctrlListener.start: clientActivePool after: {<__main__.PctrlClient object at 0x7ff588318250>: <Thread(Thread-3, started 140692509476608)>, <__main__.PctrlClient object at 0x7ff588318550>: <Thread(Thread-4, initial)>}
20170303 105116.316371:23813:Thread-1:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/participant_server.py 24:participant_server(2): start server
20170303 105116.316777:22031:Thread-3:INFO:arp:arproxy/arproxy.py 50:ARP Pctrl Client started for client ip ('127.0.0.1', 45464).
20170303 105116.316093:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 160:Trace: PctrlListener.start: clientDeadPool after: set([])
20170303 105116.316218:23594:Thread-4:INFO:XRS:xrs/route_server.py 52:BGP PctrlClient started for client ip ('127.0.0.1', 38760).
20170303 105116.316986:23813:Thread-1:INFO:P_2:pctrl/participant_controller.py 155:Initializing inbound rules
20170303 105116.316296:23594:Thread-4:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"ports": ["172.0.0.11"], "peers_in": [1, 3], "msgType": "hello", "id": "2", "peers_out": [1, 3]}

20170303 105116.317509:23813:Thread-1:DEBUG:P_2:pctrl/participant_controller.py 165:Rule Messages INBOUND:: {}
20170303 105116.316376:23594:Thread-4:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'peers_in': [1, 3], u'msgType': u'hello', u'ports': [u'172.0.0.11'], u'peers_out': [1, 3], u'id': u'2'}

20170303 105116.317610:23813:Thread-1:DEBUG:P_2:pctrl/participant_controller.py 169:Rule Messages OUTBOUND:: {}
20170303 105116.316471:23594:Thread-4:DEBUG:XRS:xrs/route_server.py 113:Trace: PctrlClient.hello: portip2participant before: {u'172.0.0.1': 1}
20170303 105116.317676:23813:Thread-1:DEBUG:P_2:pctrl/participant_controller.py 177:Rule Messages:: {}
20170303 105116.316540:23594:Thread-4:DEBUG:XRS:xrs/route_server.py 114:Trace: PctrlClient.hello: participants before: {1: <__main__.PctrlClient object at 0x7ff588318250>}
20170303 105116.317737:23813:Thread-1:DEBUG:P_2:pctrl/participant_controller.py 188:Pushing current flow mod queue:
20170303 105116.318905:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 105116.316601:23594:Thread-4:DEBUG:XRS:xrs/route_server.py 118:Trace: PctrlClient.hello: portip2participant after: {u'172.0.0.11': 2, u'172.0.0.1': 1}
20170303 105116.317810:23813:Thread-1:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 208:Attempting to connect to refmon server at localhost port 5555
20170303 105116.319070:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [], "auth_info": {"participant": 2, "key": "Part2Key"}}
20170303 105116.316660:23594:Thread-4:DEBUG:XRS:xrs/route_server.py 119:Trace: PctrlClient.hello: participants after: {1: <__main__.PctrlClient object at 0x7ff588318250>, 2: <__main__.PctrlClient object at 0x7ff588318550>}
20170303 105116.318940:23813:Thread-1:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 210:Connect to refmon successful.
20170303 105116.319141:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 105116.319563:23813:Thread-3:INFO:P_2:pctrl/participant_controller.py 220:ARP Event Handler started.
20170303 105116.319292:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [], "auth_info": {"participant": 2, "key": "Part2Key"}}
20170303 105116.319733:23813:Thread-4:INFO:P_2:pctrl/participant_controller.py 245:XRS Event Handler started.
20170303 105116.319374:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488567076.32
20170303 105116.319443:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 2
20170303 105123.701967:23833:MainThread:INFO:P_3:pctrl/participant_controller.py 669:Starting controller with config file: /home/xiaohe/iSDX/examples/test-ms/config/sdx_global.cfg
20170303 105123.702271:23833:MainThread:INFO:P_3:pctrl/participant_controller.py 670:and policy file: /home/xiaohe/iSDX/examples/test-ms/policies/participant_3.py
20170303 105123.702485:23833:MainThread:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 25:Max bits: 31 Best path bits: 16
20170303 105123.702532:23833:MainThread:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 26:VMAC size: 48 Port size: 10
20170303 105123.702730:23833:Thread-1:INFO:P_3:pctrl/participant_controller.py 82:Starting controller for participant
20170303 105123.704920:23833:Thread-1:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/lib.py 238:Attempting to connect to xrs server at localhost port 6666
20170303 105123.705394:23833:Thread-1:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/lib.py 240:Connect to xrs successful.
20170303 105123.705451:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 152:Trace: PctrlListener.start: clientActivePool before: {<__main__.PctrlClient object at 0x7ff588318250>: <Thread(Thread-3, started 140692509476608)>, <__main__.PctrlClient object at 0x7ff588318550>: <Thread(Thread-4, started 140692501083904)>}
20170303 105123.705491:23833:Thread-1:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/lib.py 238:Attempting to connect to arp server at localhost port 4444
20170303 105123.705753:22031:Thread-4:INFO:arp:arproxy/arproxy.py 50:ARP Pctrl Client started for client ip ('127.0.0.1', 45488).
20170303 105123.705561:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 153:Trace: PctrlListener.start: clientDeadPool before: set([])
20170303 105123.705627:23833:Thread-1:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/lib.py 240:Connect to arp successful.
20170303 105123.705629:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 159:Trace: PctrlListener.start: clientActivePool after: {<__main__.PctrlClient object at 0x7ff5883186d0>: <Thread(Thread-5, initial)>, <__main__.PctrlClient object at 0x7ff588318250>: <Thread(Thread-3, started 140692509476608)>, <__main__.PctrlClient object at 0x7ff588318550>: <Thread(Thread-4, started 140692501083904)>}
20170303 105123.705766:23833:Thread-1:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/participant_server.py 24:participant_server(3): start server
20170303 105123.705698:23594:Thread-2:DEBUG:XRS:xrs/route_server.py 160:Trace: PctrlListener.start: clientDeadPool after: set([])
20170303 105123.706044:23833:Thread-1:INFO:P_3:pctrl/participant_controller.py 155:Initializing inbound rules
20170303 105123.705810:23594:Thread-5:INFO:XRS:xrs/route_server.py 52:BGP PctrlClient started for client ip ('127.0.0.1', 38784).
20170303 105123.706672:23833:Thread-1:DEBUG:P_3:pctrl/participant_controller.py 165:Rule Messages INBOUND:: {"changes": [{"rule_type": "inbound", "mod_type": "insert", "priority": 4, "cookie": [1, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:00:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"], "tcp_dst": 4321}}, {"rule_type": "inbound", "mod_type": "insert", "priority": 4, "cookie": [2, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:01:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"], "tcp_dst": 4322}}], "type": "new"}
20170303 105123.705897:23594:Thread-5:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"ports": ["172.0.0.21", "172.0.0.22"], "peers_in": [1, 2], "msgType": "hello", "id": "3", "peers_out": [1, 2]}

20170303 105123.706734:23833:Thread-1:DEBUG:P_3:pctrl/participant_controller.py 169:Rule Messages OUTBOUND:: {}
20170303 105123.705964:23594:Thread-5:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'peers_in': [1, 2], u'msgType': u'hello', u'ports': [u'172.0.0.21', u'172.0.0.22'], u'peers_out': [1, 2], u'id': u'3'}

20170303 105123.706790:23833:Thread-1:DEBUG:P_3:pctrl/participant_controller.py 177:Rule Messages:: {"changes": [{"rule_type": "inbound", "mod_type": "insert", "priority": 4, "cookie": [1, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:00:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"], "tcp_dst": 4321}}, {"rule_type": "inbound", "mod_type": "insert", "priority": 4, "cookie": [2, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:01:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"], "tcp_dst": 4322}}], "type": "new"}
20170303 105123.706066:23594:Thread-5:DEBUG:XRS:xrs/route_server.py 113:Trace: PctrlClient.hello: portip2participant before: {u'172.0.0.11': 2, u'172.0.0.1': 1}
20170303 105123.706831:23833:Thread-1:DEBUG:P_3:pctrl/participant_controller.py 188:Pushing current flow mod queue:
20170303 105123.706110:23594:Thread-5:DEBUG:XRS:xrs/route_server.py 114:Trace: PctrlClient.hello: participants before: {1: <__main__.PctrlClient object at 0x7ff588318250>, 2: <__main__.PctrlClient object at 0x7ff588318550>}
20170303 105123.706881:23833:Thread-1:DEBUG:P_3:pctrl/participant_controller.py 193:MOD: {'rule_type': 'inbound', 'mod_type': 'insert', 'priority': 4, 'cookie': (1, 65535), 'action': {'fwd': ['main-in'], 'set_eth_dst': '00:00:00:00:00:03'}, 'match': {'eth_dst': ('00:00:00:00:00:03', '00:00:00:00:ff:ff'), u'tcp_dst': 4321}}
20170303 105123.706156:23594:Thread-5:DEBUG:XRS:xrs/route_server.py 118:Trace: PctrlClient.hello: portip2participant after: {u'172.0.0.11': 2, u'172.0.0.22': 3, u'172.0.0.1': 1, u'172.0.0.21': 3}
20170303 105123.706926:23833:Thread-1:DEBUG:P_3:pctrl/participant_controller.py 193:MOD: {'rule_type': 'inbound', 'mod_type': 'insert', 'priority': 4, 'cookie': (2, 65535), 'action': {'fwd': ['main-in'], 'set_eth_dst': '00:00:00:01:00:03'}, 'match': {'eth_dst': ('00:00:00:00:00:03', '00:00:00:00:ff:ff'), u'tcp_dst': 4322}}
20170303 105123.707984:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 105123.706198:23594:Thread-5:DEBUG:XRS:xrs/route_server.py 119:Trace: PctrlClient.hello: participants after: {1: <__main__.PctrlClient object at 0x7ff588318250>, 2: <__main__.PctrlClient object at 0x7ff588318550>, 3: <__main__.PctrlClient object at 0x7ff5883186d0>}
20170303 105123.706982:23833:Thread-1:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/lib.py 208:Attempting to connect to refmon server at localhost port 5555
20170303 105123.708130:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [{"rule_type": "inbound", "mod_type": "insert", "priority": 4, "cookie": [1, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:00:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"], "tcp_dst": 4321}}, {"rule_type": "inbound", "mod_type": "insert", "priority": 4, "cookie": [2, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:01:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"], "tcp_dst": 4322}}], "auth_info": {"participant": 3, "key": "Part3Key"}}
20170303 105123.707966:23833:Thread-1:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/lib.py 210:Connect to refmon successful.
20170303 105123.708228:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 105123.708488:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [{"rule_type": "inbound", "mod_type": "insert", "priority": 4, "cookie": [1, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:00:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"], "tcp_dst": 4321}}, {"rule_type": "inbound", "mod_type": "insert", "priority": 4, "cookie": [2, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:01:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"], "tcp_dst": 4322}}], "auth_info": {"participant": 3, "key": "Part3Key"}}
20170303 105123.708585:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488567083.71
20170303 105123.708665:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 3
20170303 105123.708758:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 3: {"rule_type": "inbound", "mod_type": "insert", "priority": 4, "cookie": [1, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:00:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"], "tcp_dst": 4321}}
20170303 105123.708849:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 3: {"rule_type": "inbound", "mod_type": "insert", "priority": 4, "cookie": [2, 65535], "action": {"fwd": ["main-in"], "set_eth_dst": "00:00:00:01:00:03"}, "match": {"eth_dst": ["00:00:00:00:00:03", "00:00:00:00:ff:ff"], "tcp_dst": 4322}}
20170303 105123.709532:23833:Thread-3:INFO:P_3:pctrl/participant_controller.py 220:ARP Event Handler started.
20170303 105123.709722:23833:Thread-4:INFO:P_3:pctrl/participant_controller.py 245:XRS Event Handler started.
20170303 105734.148387:23594:Thread-1:DEBUG:XRS:/home/xiaohe/iSDX/xrs/server.py 22:Connection accepted from ('127.0.0.1', 46352)
20170303 105735.150147:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 192:Waiting for BGP update...
20170303 105738.144616:24121:Thread-1:DEBUG:XRS-send:/home/xiaohe/iSDX/xrs/client.py 44:{ "exabgp": "3.4.8", "time": 1488567458, "host" : "c16", "pid" : "24118", "ppid" : "11925", "counter": 1, "type": "update", "neighbor": { "ip": "172.0.0.1", "address": { "local": "172.0.255.254", "peer": "172.0.0.1"}, "asn": { "local": "65000", "peer": "100"}, "message": { "update": { "attribute": { "origin": "igp", "as-path": [ 100 ], "confederation-path": [], "med": 0 }, "announce": { "ipv4 unicast": { "172.0.0.1": { "100.0.0.0/24": {  }, "110.0.0.0/24": {  } } } } } }} }
20170303 105738.145424:23594:Thread-1:INFO:XRS:xrs/route_server.py 197:
 BGPListener: Got original route from ExaBGP: { "exabgp": "3.4.8", "time": 1488567458, "host" : "c16", "pid" : "24118", "ppid" : "11925", "counter": 1, "type": "update", "neighbor": { "ip": "172.0.0.1", "address": { "local": "172.0.255.254", "peer": "172.0.0.1"}, "asn": { "local": "65000", "peer": "100"}, "message": { "update": { "attribute": { "origin": "igp", "as-path": [ 100 ], "confederation-path": [], "med": 0 }, "announce": { "ipv4 unicast": { "172.0.0.1": { "100.0.0.0/24": {  }, "110.0.0.0/24": {  } } } } } }} }

20170303 105738.146449:24121:Thread-1:DEBUG:XRS-send:/home/xiaohe/iSDX/xrs/client.py 44:{ "exabgp": "3.4.8", "time": 1488567458, "host" : "c16", "pid" : "24118", "ppid" : "11925", "counter": 1, "type": "update", "neighbor": { "ip": "172.0.0.22", "address": { "local": "172.0.255.254", "peer": "172.0.0.22"}, "asn": { "local": "65000", "peer": "300"}, "message": { "update": { "attribute": { "origin": "igp", "as-path": [ 300 ], "confederation-path": [], "med": 0 }, "announce": { "ipv4 unicast": { "172.0.0.22": { "140.0.0.0/24": {  }, "150.0.0.0/24": {  } } } } } }} }
20170303 105738.145913:23594:Thread-1:INFO:XRS:xrs/route_server.py 200:
 BGPListener: Got json route from ExaBGP: {u'counter': 1, u'pid': u'24118', u'exabgp': u'3.4.8', u'host': u'c16', u'neighbor': {u'ip': u'172.0.0.1', u'message': {u'update': {u'attribute': {u'origin': u'igp', u'med': 0, u'confederation-path': [], u'as-path': [100]}, u'announce': {u'ipv4 unicast': {u'172.0.0.1': {u'110.0.0.0/24': {}, u'100.0.0.0/24': {}}}}}}, u'asn': {u'peer': u'100', u'local': u'65000'}, u'address': {u'peer': u'172.0.0.1', u'local': u'172.0.255.254'}}, u'time': 1488567458, u'ppid': u'11925', u'type': u'update'}

20170303 105738.147087:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 258:XRS Event received: {"bgp": {"counter": 1, "pid": "24118", "exabgp": "3.4.8", "host": "c16", "neighbor": {"ip": "172.0.0.1", "message": {"update": {"attribute": {"origin": "igp", "med": 0, "confederation-path": [], "as-path": [100]}, "announce": {"ipv4 unicast": {"172.0.0.1": {"110.0.0.0/24": {}, "100.0.0.0/24": {}}}}}}, "asn": {"peer": "100", "local": "65000"}, "address": {"peer": "172.0.0.1", "local": "172.0.255.254"}}, "time": 1488567458, "ppid": "11925", "type": "update"}}
20170303 105738.147742:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 258:XRS Event received: {"bgp": {"counter": 1, "pid": "24118", "exabgp": "3.4.8", "host": "c16", "neighbor": {"ip": "172.0.0.1", "message": {"update": {"attribute": {"origin": "igp", "med": 0, "confederation-path": [], "as-path": [100]}, "announce": {"ipv4 unicast": {"172.0.0.1": {"110.0.0.0/24": {}, "100.0.0.0/24": {}}}}}}, "asn": {"peer": "100", "local": "65000"}, "address": {"peer": "172.0.0.1", "local": "172.0.255.254"}}, "time": 1488567458, "ppid": "11925", "type": "update"}}
20170303 105738.146237:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 131:Sending a route update to participant 2
20170303 105738.148808:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 258:XRS Event received: {"bgp": {"counter": 1, "pid": "24118", "exabgp": "3.4.8", "host": "c16", "neighbor": {"ip": "172.0.0.22", "message": {"update": {"attribute": {"origin": "igp", "med": 0, "confederation-path": [], "as-path": [300]}, "announce": {"ipv4 unicast": {"172.0.0.22": {"140.0.0.0/24": {}, "150.0.0.0/24": {}}}}}}, "asn": {"peer": "300", "local": "65000"}, "address": {"peer": "172.0.0.22", "local": "172.0.255.254"}}, "time": 1488567458, "ppid": "11925", "type": "update"}}
20170303 105738.147662:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 271:Event Received: BGP Update.
20170303 105738.148322:24121:Thread-1:DEBUG:XRS-send:/home/xiaohe/iSDX/xrs/client.py 44:{ "exabgp": "3.4.8", "time": 1488567458, "host" : "c16", "pid" : "24118", "ppid" : "11925", "counter": 1, "type": "update", "neighbor": { "ip": "172.0.0.21", "address": { "local": "172.0.255.254", "peer": "172.0.0.21"}, "asn": { "local": "65000", "peer": "300"}, "message": { "update": { "attribute": { "origin": "igp", "as-path": [ 300 ], "confederation-path": [], "med": 0 }, "announce": { "ipv4 unicast": { "172.0.0.21": { "140.0.0.0/24": {  }, "150.0.0.0/24": {  } } } } } }} }
20170303 105738.148193:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 271:Event Received: BGP Update.
20170303 105738.146861:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 131:Sending a route update to participant 3
20170303 105738.149009:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 271:Event Received: BGP Update.
20170303 105738.149094:24121:Thread-1:DEBUG:XRS-send:/home/xiaohe/iSDX/xrs/client.py 44:{ "exabgp": "3.4.8", "time": 1488567458, "host" : "c16", "pid" : "24118", "ppid" : "11925", "counter": 1, "type": "update", "neighbor": { "ip": "172.0.0.11", "address": { "local": "172.0.255.254", "peer": "172.0.0.11"}, "asn": { "local": "65000", "peer": "200"}, "message": { "update": { "attribute": { "origin": "igp", "as-path": [ 200 ], "confederation-path": [], "med": 0 }, "announce": { "ipv4 unicast": { "172.0.0.11": { "140.0.0.0/24": {  }, "150.0.0.0/24": {  } } } } } }} }
20170303 105738.147504:23594:Thread-1:INFO:XRS:xrs/route_server.py 197:
 BGPListener: Got original route from ExaBGP: { "exabgp": "3.4.8", "time": 1488567458, "host" : "c16", "pid" : "24118", "ppid" : "11925", "counter": 1, "type": "update", "neighbor": { "ip": "172.0.0.22", "address": { "local": "172.0.255.254", "peer": "172.0.0.22"}, "asn": { "local": "65000", "peer": "300"}, "message": { "update": { "attribute": { "origin": "igp", "as-path": [ 300 ], "confederation-path": [], "med": 0 }, "announce": { "ipv4 unicast": { "172.0.0.22": { "140.0.0.0/24": {  }, "150.0.0.0/24": {  } } } } } }} }

20170303 105738.147972:23594:Thread-1:INFO:XRS:xrs/route_server.py 200:
 BGPListener: Got json route from ExaBGP: {u'counter': 1, u'pid': u'24118', u'exabgp': u'3.4.8', u'host': u'c16', u'neighbor': {u'ip': u'172.0.0.22', u'message': {u'update': {u'attribute': {u'origin': u'igp', u'med': 0, u'confederation-path': [], u'as-path': [300]}, u'announce': {u'ipv4 unicast': {u'172.0.0.22': {u'140.0.0.0/24': {}, u'150.0.0.0/24': {}}}}}}, u'asn': {u'peer': u'300', u'local': u'65000'}, u'address': {u'peer': u'172.0.0.22', u'local': u'172.0.255.254'}}, u'time': 1488567458, u'ppid': u'11925', u'type': u'update'}

20170303 105738.148288:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 131:Sending a route update to participant 1
20170303 105738.148683:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 131:Sending a route update to participant 2
20170303 105738.148818:23594:Thread-1:INFO:XRS:xrs/route_server.py 197:
 BGPListener: Got original route from ExaBGP: { "exabgp": "3.4.8", "time": 1488567458, "host" : "c16", "pid" : "24118", "ppid" : "11925", "counter": 1, "type": "update", "neighbor": { "ip": "172.0.0.21", "address": { "local": "172.0.255.254", "peer": "172.0.0.21"}, "asn": { "local": "65000", "peer": "300"}, "message": { "update": { "attribute": { "origin": "igp", "as-path": [ 300 ], "confederation-path": [], "med": 0 }, "announce": { "ipv4 unicast": { "172.0.0.21": { "140.0.0.0/24": {  }, "150.0.0.0/24": {  } } } } } }} }

20170303 105738.148936:23594:Thread-1:INFO:XRS:xrs/route_server.py 200:
 BGPListener: Got json route from ExaBGP: {u'counter': 1, u'pid': u'24118', u'exabgp': u'3.4.8', u'host': u'c16', u'neighbor': {u'ip': u'172.0.0.21', u'message': {u'update': {u'attribute': {u'origin': u'igp', u'med': 0, u'confederation-path': [], u'as-path': [300]}, u'announce': {u'ipv4 unicast': {u'172.0.0.21': {u'140.0.0.0/24': {}, u'150.0.0.0/24': {}}}}}}, u'asn': {u'peer': u'300', u'local': u'65000'}, u'address': {u'peer': u'172.0.0.21', u'local': u'172.0.255.254'}}, u'time': 1488567458, u'ppid': u'11925', u'type': u'update'}

20170303 105738.149035:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 131:Sending a route update to participant 1
20170303 105738.149159:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 131:Sending a route update to participant 2
20170303 105738.149303:23594:Thread-1:INFO:XRS:xrs/route_server.py 197:
 BGPListener: Got original route from ExaBGP: { "exabgp": "3.4.8", "time": 1488567458, "host" : "c16", "pid" : "24118", "ppid" : "11925", "counter": 1, "type": "update", "neighbor": { "ip": "172.0.0.11", "address": { "local": "172.0.255.254", "peer": "172.0.0.11"}, "asn": { "local": "65000", "peer": "200"}, "message": { "update": { "attribute": { "origin": "igp", "as-path": [ 200 ], "confederation-path": [], "med": 0 }, "announce": { "ipv4 unicast": { "172.0.0.11": { "140.0.0.0/24": {  }, "150.0.0.0/24": {  } } } } } }} }

20170303 105738.149393:23594:Thread-1:INFO:XRS:xrs/route_server.py 200:
 BGPListener: Got json route from ExaBGP: {u'counter': 1, u'pid': u'24118', u'exabgp': u'3.4.8', u'host': u'c16', u'neighbor': {u'ip': u'172.0.0.11', u'message': {u'update': {u'attribute': {u'origin': u'igp', u'med': 0, u'confederation-path': [], u'as-path': [200]}, u'announce': {u'ipv4 unicast': {u'172.0.0.11': {u'140.0.0.0/24': {}, u'150.0.0.0/24': {}}}}}}, u'asn': {u'peer': u'200', u'local': u'65000'}, u'address': {u'peer': u'172.0.0.11', u'local': u'172.0.255.254'}}, u'time': 1488567458, u'ppid': u'11925', u'type': u'update'}

20170303 105738.149477:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 131:Sending a route update to participant 1
20170303 105738.149588:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 131:Sending a route update to participant 3
20170303 105738.440821:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 2 --- processing update for prefix: 110.0.0.0/24
20170303 105738.441372:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 3 --- processing update for prefix: 110.0.0.0/24
20170303 105738.442428:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 2 ---Best Route after Selection: 110.0.0.0/24 RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.442634:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 3 ---Best Route after Selection: 110.0.0.0/24 RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.443484:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 1 --- processing update for prefix: 140.0.0.0/24
20170303 105738.445490:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 1 ---Best Route after Selection: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.447657:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 3 Pushed: RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.447946:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 3 --- Best Path changed: 110.0.0.0/24 RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'') Older best route: None
20170303 105738.449092:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 2 Pushed: RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.448278:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 3 --- processing update for prefix: 100.0.0.0/24
20170303 105738.451428:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 1 Pushed: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.449468:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 2 --- Best Path changed: 110.0.0.0/24 RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'') Older best route: None
20170303 105738.449984:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 3 ---Best Route after Selection: 100.0.0.0/24 RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.451802:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 1 --- Best Path changed: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Older best route: None
20170303 105738.449956:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 2 --- processing update for prefix: 100.0.0.0/24
20170303 105738.452238:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 1 --- processing update for prefix: 150.0.0.0/24
20170303 105738.451364:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 2 ---Best Route after Selection: 100.0.0.0/24 RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.454278:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 3 Pushed: RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.453615:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 1 ---Best Route after Selection: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.456423:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 2 Pushed: RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.454541:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 3 --- Best Path changed: 100.0.0.0/24 RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'') Older best route: None
20170303 105738.458028:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 1 Pushed: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.456742:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 2 --- Best Path changed: 100.0.0.0/24 RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'') Older best route: None
20170303 105738.454933:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 492:Time taken for decision process: 0.306599140167
20170303 105738.460061:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 105738.458345:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 1 --- Best Path changed: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Older best route: None
20170303 105738.457169:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 492:Time taken for decision process: 0.309220075607
20170303 105738.455175:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 76:Updating supersets...
20170303 105738.460421:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [], "auth_info": {"participant": 3, "key": "Part3Key"}}
20170303 105738.458720:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 492:Time taken for decision process: 0.309589862823
20170303 105738.457440:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 76:Updating supersets...
20170303 105738.455421:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.460752:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 105738.458988:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 76:Updating supersets...
20170303 105738.457732:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.455570:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 35:Superset intial computation running..
20170303 105738.461346:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [], "auth_info": {"participant": 3, "key": "Part3Key"}}
20170303 105738.459253:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {2: 1, 3: 2}
20170303 105738.457970:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 35:Superset intial computation running..
20170303 105738.455706:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 153:~Recomputing all Supersets...
20170303 105738.461704:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488567458.46
20170303 105738.459476:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 35:Superset intial computation running..
20170303 105738.458187:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 153:~Recomputing all Supersets...
20170303 105738.455845:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.461997:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 3
20170303 105738.459696:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 153:~Recomputing all Supersets...
20170303 105738.458411:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.456738:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.464311:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 105738.474756:22031:Thread-4:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:03', u'TPA': u'172.0.1.1', u'SHA': u'80:00:00:00:00:01', u'eth_src': u'80:00:00:00:00:01', u'SPA': u'172.0.1.1', u'THA': u'80:00:00:00:00:01'}
20170303 105738.459938:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {2: 1, 3: 2}
20170303 105738.459569:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.457597:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.464979:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [], "auth_info": {"participant": 2, "key": "Part2Key"}}
20170303 105738.475020:22031:Thread-4:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:01:00:03', u'TPA': u'172.0.1.1', u'SHA': u'80:00:00:00:00:01', u'eth_src': u'80:00:00:00:00:01', u'SPA': u'172.0.1.1', u'THA': u'80:00:00:00:00:01'}
20170303 105738.477398:23594:Thread-5:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.21 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]", "msgType": "bgp"}

20170303 105738.461106:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.460757:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.457822:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 281:Prefix2Part called. Returning [set([1]), set([1])](this should not be empty) 2
20170303 105738.465504:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 105738.477251:22031:Thread-4:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:03', u'TPA': u'172.0.1.2', u'SHA': u'80:00:00:00:00:01', u'eth_src': u'80:00:00:00:00:01', u'SPA': u'172.0.1.2', u'THA': u'80:00:00:00:00:01'}
20170303 105738.477606:23594:Thread-5:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.21 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]', u'msgType': u'bgp'}

20170303 105738.462446:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.461090:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 281:Prefix2Part called. Returning [set([1]), set([1])](this should not be empty) 2
20170303 105738.458030:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 182:done.~
20170303 105738.466062:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [], "auth_info": {"participant": 2, "key": "Part2Key"}}
20170303 105738.477593:22031:Thread-4:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:01:00:03', u'TPA': u'172.0.1.2', u'SHA': u'80:00:00:00:00:01', u'eth_src': u'80:00:00:00:00:01', u'SPA': u'172.0.1.2', u'THA': u'80:00:00:00:00:01'}
20170303 105738.478502:23594:Thread-5:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.22 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]", "msgType": "bgp"}

20170303 105738.462774:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 281:Prefix2Part called. Returning [set([3]), set([3])](this should not be empty) 2
20170303 105738.461443:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 182:done.~
20170303 105738.458187:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 183:Supersets: >> [[]]
20170303 105738.479838:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.21 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]
20170303 105738.466417:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488567458.47
20170303 105738.477884:22031:Thread-3:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:02', u'TPA': u'172.0.1.1', u'SHA': u'80:00:00:00:00:01', u'eth_src': u'80:00:00:00:00:01', u'SPA': u'172.0.1.1', u'THA': u'80:00:00:00:00:01'}
20170303 105738.478727:23594:Thread-5:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.22 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]', u'msgType': u'bgp'}

20170303 105738.463085:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 182:done.~
20170303 105738.461747:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 183:Supersets: >> [[]]
20170303 105738.458345:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 48:Superset computation complete. Supersets: >> [[]] sdx_msgs: {'changes': [], 'type': 'new'}
20170303 105738.466740:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 2
20170303 105738.480016:22031:Thread-3:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:02', u'TPA': u'172.0.1.2', u'SHA': u'80:00:00:00:00:01', u'eth_src': u'80:00:00:00:00:01', u'SPA': u'172.0.1.2', u'THA': u'80:00:00:00:00:01'}
20170303 105738.478943:23594:Thread-5:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.21 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]", "msgType": "bgp"}

20170303 105738.463328:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 183:Supersets: >> [[3]]
20170303 105738.462011:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 48:Superset computation complete. Supersets: >> [[]] sdx_msgs: {'changes': [], 'type': 'new'}
20170303 105738.458497:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 503:Time taken to update supersets: 0.00334119796753
20170303 105738.468591:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 105738.481033:22031:Thread-2:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:01', u'TPA': u'172.0.1.1', u'SHA': u'a0:00:00:00:00:03', u'eth_src': u'a0:00:00:00:00:03', u'SPA': u'172.0.1.1', u'THA': u'a0:00:00:00:00:03'}
20170303 105738.479116:23594:Thread-5:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.21 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]', u'msgType': u'bgp'}

20170303 105738.463605:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 48:Superset computation complete. Supersets: >> [[3]] sdx_msgs: {'changes': [{'position': 0, 'superset': 0, 'participant_id': 3}], 'type': 'new'}
20170303 105738.462270:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 503:Time taken to update supersets: 0.00483798980713
20170303 105738.458638:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 512:Wiping outbound rules.
20170303 105738.469184:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [{"rule_type": "outbound", "mod_type": "remove", "cookie": [1, 65535]}, {"rule_type": "outbound", "mod_type": "remove", "cookie": [2, 65535]}, {"rule_type": "outbound", "mod_type": "remove", "cookie": [3, 65535]}, {"rule_type": "outbound", "mod_type": "insert", "priority": 2, "cookie": [2, 65535], "action": {"fwd": ["inbound"], "set_eth_dst": "80:00:00:00:00:03"}, "match": {"eth_src": "08:00:27:89:3b:9f", "eth_dst": ["20:00:00:00:00:00", "60:00:00:00:00:00"], "tcp_dst": 4321}}, {"rule_type": "outbound", "mod_type": "insert", "priority": 2, "cookie": [3, 65535], "action": {"fwd": ["inbound"], "set_eth_dst": "80:00:00:00:00:03"}, "match": {"eth_src": "08:00:27:89:3b:9f", "eth_dst": ["20:00:00:00:00:00", "60:00:00:00:00:00"], "tcp_dst": 4322}}], "auth_info": {"participant": 1, "key": "Part1Key"}}
20170303 105738.482707:22031:Thread-2:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:01', u'TPA': u'172.0.1.2', u'SHA': u'a0:00:00:00:00:03', u'eth_src': u'a0:00:00:00:00:03', u'SPA': u'172.0.1.2', u'THA': u'a0:00:00:00:00:03'}
20170303 105738.479305:23594:Thread-5:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.22 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]", "msgType": "bgp"}

20170303 105738.463853:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 503:Time taken to update supersets: 0.00487494468689
20170303 105738.462498:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 512:Wiping outbound rules.
20170303 105738.458782:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 534:Time taken to deal with ss_changes: 0.000139951705933
20170303 105738.469490:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 105738.479430:23594:Thread-5:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.22 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]', u'msgType': u'bgp'}

20170303 105738.464074:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 512:Wiping outbound rules.
20170303 105738.462743:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 534:Time taken to deal with ss_changes: 0.000236988067627
20170303 105738.458914:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 188:Pushing current flow mod queue:
20170303 105738.470055:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [{"rule_type": "outbound", "mod_type": "remove", "cookie": [1, 65535]}, {"rule_type": "outbound", "mod_type": "remove", "cookie": [2, 65535]}, {"rule_type": "outbound", "mod_type": "remove", "cookie": [3, 65535]}, {"rule_type": "outbound", "mod_type": "insert", "priority": 2, "cookie": [2, 65535], "action": {"fwd": ["inbound"], "set_eth_dst": "80:00:00:00:00:03"}, "match": {"eth_src": "08:00:27:89:3b:9f", "eth_dst": ["20:00:00:00:00:00", "60:00:00:00:00:00"], "tcp_dst": 4321}}, {"rule_type": "outbound", "mod_type": "insert", "priority": 2, "cookie": [3, 65535], "action": {"fwd": ["inbound"], "set_eth_dst": "80:00:00:00:00:03"}, "match": {"eth_src": "08:00:27:89:3b:9f", "eth_dst": ["20:00:00:00:00:00", "60:00:00:00:00:00"], "tcp_dst": 4322}}], "auth_info": {"participant": 1, "key": "Part1Key"}}
20170303 105738.480186:23594:Thread-4:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.11 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]", "msgType": "bgp"}

20170303 105738.464336:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 522:Supersets have changed: {'changes': [{'position': 0, 'superset': 0, 'participant_id': 3}], 'type': 'new'}
20170303 105738.462972:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 188:Pushing current flow mod queue:
20170303 105738.459109:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/lib.py 208:Attempting to connect to refmon server at localhost port 5555
20170303 105738.470255:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488567458.47
20170303 105738.480295:23594:Thread-4:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.11 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]', u'msgType': u'bgp'}

20170303 105738.464917:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 528:Flow msgs: [{'rule_type': 'outbound', 'mod_type': 'insert', 'priority': 2, 'cookie': (2, 65535), 'action': {'fwd': ['inbound'], 'set_eth_dst': '80:00:00:00:00:03'}, 'match': {'eth_src': u'08:00:27:89:3b:9f', 'eth_dst': ('20:00:00:00:00:00', '60:00:00:00:00:00'), u'tcp_dst': 4321}}, {'rule_type': 'outbound', 'mod_type': 'insert', 'priority': 2, 'cookie': (3, 65535), 'action': {'fwd': ['inbound'], 'set_eth_dst': '80:00:00:00:00:03'}, 'match': {'eth_src': u'08:00:27:89:3b:9f', 'eth_dst': ('20:00:00:00:00:00', '60:00:00:00:00:00'), u'tcp_dst': 4322}}]
20170303 105738.463271:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 208:Attempting to connect to refmon server at localhost port 5555
20170303 105738.460098:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/lib.py 210:Connect to refmon successful.
20170303 105738.470409:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 1
20170303 105738.491598:22031:Thread-4:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:03', u'TPA': u'172.0.1.3', u'SHA': u'80:00:00:00:00:02', u'eth_src': u'80:00:00:00:00:02', u'SPA': u'172.0.1.3', u'THA': u'80:00:00:00:00:02'}
20170303 105738.480448:23594:Thread-4:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.11 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]", "msgType": "bgp"}

20170303 105738.465454:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 534:Time taken to deal with ss_changes: 0.00136590003967
20170303 105738.464579:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 210:Connect to refmon successful.
20170303 105738.460370:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 547:Time taken to push dp msgs: 0.00144004821777
20170303 105738.470578:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 1: {"rule_type": "outbound", "mod_type": "remove", "cookie": [1, 65535]}
20170303 105738.492000:22031:Thread-4:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:01:00:03', u'TPA': u'172.0.1.3', u'SHA': u'80:00:00:00:00:02', u'eth_src': u'80:00:00:00:00:02', u'SPA': u'172.0.1.3', u'THA': u'80:00:00:00:00:02'}
20170303 105738.480561:23594:Thread-4:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.11 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]', u'msgType': u'bgp'}

20170303 105738.465728:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 188:Pushing current flow mod queue:
20170303 105738.464976:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 547:Time taken to push dp msgs: 0.00199007987976
20170303 105738.464100:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 3 -- Previous Outbound route: None New Best Path: RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.470734:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 1: {"rule_type": "outbound", "mod_type": "remove", "cookie": [2, 65535]}
20170303 105738.492892:22031:Thread-4:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:03', u'TPA': u'172.0.1.4', u'SHA': u'80:00:00:00:00:02', u'eth_src': u'80:00:00:00:00:02', u'SPA': u'172.0.1.4', u'THA': u'80:00:00:00:00:02'}
20170303 105738.482809:23594:Thread-3:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 300 ) ]", "msgType": "bgp"}

20170303 105738.465989:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 193:MOD: {'rule_type': 'outbound', 'mod_type': 'remove', 'priority': 0, 'cookie': (1, 65535), 'action': {}, 'match': {'eth_src': u'08:00:27:89:3b:9f'}}
20170303 105738.469673:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 2 -- Previous Outbound route: None New Best Path: RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.470094:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 3 -- Previous Outbound route: None New Best Path: RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.470886:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 1: {"rule_type": "outbound", "mod_type": "remove", "cookie": [3, 65535]}
20170303 105738.493057:22031:Thread-4:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:01:00:03', u'TPA': u'172.0.1.4', u'SHA': u'80:00:00:00:00:02', u'eth_src': u'80:00:00:00:00:02', u'SPA': u'172.0.1.4', u'THA': u'80:00:00:00:00:02'}
20170303 105738.482957:23594:Thread-3:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 300 ) ]', u'msgType': u'bgp'}

20170303 105738.466258:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 193:MOD: {'rule_type': 'outbound', 'mod_type': 'remove', 'priority': 0, 'cookie': (2, 65535), 'action': {}, 'match': {'eth_src': u'08:00:27:89:3b:9f'}}
20170303 105738.474075:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 2 -- Previous Outbound route: None New Best Path: RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.473267:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.471052:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 1: {"rule_type": "outbound", "mod_type": "insert", "priority": 2, "cookie": [2, 65535], "action": {"fwd": ["inbound"], "set_eth_dst": "80:00:00:00:00:03"}, "match": {"eth_src": "08:00:27:89:3b:9f", "eth_dst": ["20:00:00:00:00:00", "60:00:00:00:00:00"], "tcp_dst": 4321}}
20170303 105738.495449:22031:Thread-2:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:01', u'TPA': u'172.0.1.1', u'SHA': u'a0:00:00:00:00:03', u'eth_src': u'a0:00:00:00:00:03', u'SPA': u'172.0.1.1', u'THA': u'a0:00:00:00:00:03'}
20170303 105738.483118:23594:Thread-3:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 300 ) ]", "msgType": "bgp"}

20170303 105738.466518:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 193:MOD: {'rule_type': 'outbound', 'mod_type': 'remove', 'priority': 0, 'cookie': (3, 65535), 'action': {}, 'match': {'eth_src': u'08:00:27:89:3b:9f'}}
20170303 105738.476615:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.474138:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.471218:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 1: {"rule_type": "outbound", "mod_type": "insert", "priority": 2, "cookie": [3, 65535], "action": {"fwd": ["inbound"], "set_eth_dst": "80:00:00:00:00:03"}, "match": {"eth_src": "08:00:27:89:3b:9f", "eth_dst": ["20:00:00:00:00:00", "60:00:00:00:00:00"], "tcp_dst": 4322}}
20170303 105738.495938:22031:Thread-3:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:02', u'TPA': u'172.0.1.3', u'SHA': u'80:00:00:00:00:03', u'eth_src': u'80:00:00:00:00:03', u'SPA': u'172.0.1.3', u'THA': u'80:00:00:00:00:03'}
20170303 105738.483301:23594:Thread-3:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 300 ) ]', u'msgType': u'bgp'}

20170303 105738.466782:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 193:MOD: {'rule_type': 'outbound', 'mod_type': 'insert', 'priority': 2, 'cookie': (2, 65535), 'action': {'fwd': ['inbound'], 'set_eth_dst': '80:00:00:00:00:03'}, 'match': {'eth_src': u'08:00:27:89:3b:9f', 'eth_dst': ('20:00:00:00:00:00', '60:00:00:00:00:00'), u'tcp_dst': 4321}}
20170303 105738.477280:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'110.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.474438:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:03', 'TPA': '172.0.1.1', 'SHA': '80:00:00:00:00:01', 'eth_src': '80:00:00:00:00:01', 'SPA': '172.0.1.1', 'THA': '80:00:00:00:00:01'}, {'eth_dst': '00:00:00:01:00:03', 'TPA': '172.0.1.1', 'SHA': '80:00:00:00:00:01', 'eth_src': '80:00:00:00:00:01', 'SPA': '172.0.1.1', 'THA': '80:00:00:00:00:01'}]
20170303 105738.471471:22006:GreenThread-3:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 273:ms_ctrlr: sending barrier
20170303 105738.496387:22031:Thread-2:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:01', u'TPA': u'172.0.1.2', u'SHA': u'a0:00:00:00:00:03', u'eth_src': u'a0:00:00:00:00:03', u'SPA': u'172.0.1.2', u'THA': u'a0:00:00:00:00:03'}
20170303 105738.492945:23594:Thread-5:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.21 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 200 ) ]", "msgType": "bgp"}

20170303 105738.467077:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 193:MOD: {'rule_type': 'outbound', 'mod_type': 'insert', 'priority': 2, 'cookie': (3, 65535), 'action': {'fwd': ['inbound'], 'set_eth_dst': '80:00:00:00:00:03'}, 'match': {'eth_src': u'08:00:27:89:3b:9f', 'eth_dst': ('20:00:00:00:00:00', '60:00:00:00:00:00'), u'tcp_dst': 4322}}
20170303 105738.477537:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:02', 'TPA': '172.0.1.1', 'SHA': '80:00:00:00:00:01', 'eth_src': '80:00:00:00:00:01', 'SPA': '172.0.1.1', 'THA': '80:00:00:00:00:01'}]
20170303 105738.476310:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.472813:22006:GreenThread-3:INFO:MultiSwitchController:/home/xiaohe/iSDX/flanc/lib.py 273:ms_ctrlr: sending barrier
20170303 105738.496999:22031:Thread-3:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:02', u'TPA': u'172.0.1.4', u'SHA': u'80:00:00:00:00:03', u'eth_src': u'80:00:00:00:00:03', u'SPA': u'172.0.1.4', u'THA': u'80:00:00:00:00:03'}
20170303 105738.493096:23594:Thread-5:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.21 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 200 ) ]', u'msgType': u'bgp'}

20170303 105738.467479:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 208:Attempting to connect to refmon server at localhost port 5555
20170303 105738.478998:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.476804:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.487319:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 105738.493250:23594:Thread-5:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.22 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 200 ) ]", "msgType": "bgp"}

20170303 105738.468694:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 210:Connect to refmon successful.
20170303 105738.479569:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'100.0.0.0/24', neighbor=u'172.0.0.1', next_hop=u'172.0.0.1', origin=u'igp', as_path=[100], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.476986:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:03', 'TPA': '172.0.1.2', 'SHA': '80:00:00:00:00:01', 'eth_src': '80:00:00:00:00:01', 'SPA': '172.0.1.2', 'THA': '80:00:00:00:00:01'}, {'eth_dst': '00:00:00:01:00:03', 'TPA': '172.0.1.2', 'SHA': '80:00:00:00:00:01', 'eth_src': '80:00:00:00:00:01', 'SPA': '172.0.1.2', 'THA': '80:00:00:00:00:01'}]
20170303 105738.487492:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [], "auth_info": {"participant": 3, "key": "Part3Key"}}
20170303 105738.493355:23594:Thread-5:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.22 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 200 ) ]', u'msgType': u'bgp'}

20170303 105738.469096:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 547:Time taken to push dp msgs: 0.00335288047791
20170303 105738.479759:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:02', 'TPA': '172.0.1.2', 'SHA': '80:00:00:00:00:01', 'eth_src': '80:00:00:00:00:01', 'SPA': '172.0.1.2', 'THA': '80:00:00:00:00:01'}]
20170303 105738.477158:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.21 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]
20170303 105738.487610:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 105738.493490:23594:Thread-5:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.21 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 200 ) ]", "msgType": "bgp"}

20170303 105738.472875:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 1 -- Previous Outbound route: None New Best Path: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.479928:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.11 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]
20170303 105738.477352:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.22 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]
20170303 105738.487854:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [], "auth_info": {"participant": 3, "key": "Part3Key"}}
20170303 105738.493598:23594:Thread-5:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.21 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 200 ) ]', u'msgType': u'bgp'}

20170303 105738.476173:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 1 -- Previous Outbound route: None New Best Path: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.480163:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.11 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]
20170303 105738.477477:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.21 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]
20170303 105738.487973:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488567458.49
20170303 105738.493736:23594:Thread-5:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.22 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 200 ) ]", "msgType": "bgp"}

20170303 105738.479220:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {2: 1, 3: 2}
20170303 105738.480331:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 571:Time taken to send garps/announcements: 0.0148520469666
20170303 105738.477622:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.22 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]
20170303 105738.488080:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 3
20170303 105738.493836:23594:Thread-5:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.22 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 200 ) ]', u'msgType': u'bgp'}

20170303 105738.480093:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.480573:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 258:XRS Event received: {"bgp": {"counter": 1, "pid": "24118", "exabgp": "3.4.8", "host": "c16", "neighbor": {"ip": "172.0.0.22", "message": {"update": {"attribute": {"origin": "igp", "med": 0, "confederation-path": [], "as-path": [300]}, "announce": {"ipv4 unicast": {"172.0.0.22": {"140.0.0.0/24": {}, "150.0.0.0/24": {}}}}}}, "asn": {"peer": "300", "local": "65000"}, "address": {"peer": "172.0.0.22", "local": "172.0.255.254"}}, "time": 1488567458, "ppid": "11925", "type": "update"}}
20170303 105738.477743:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 571:Time taken to send garps/announcements: 0.0172147750854
20170303 105738.490987:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 105738.506220:22031:Thread-2:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:01', u'TPA': u'172.0.1.1', u'SHA': u'b0:00:00:00:00:02', u'eth_src': u'b0:00:00:00:00:02', u'SPA': u'172.0.1.1', u'THA': u'b0:00:00:00:00:02'}
20170303 105738.496462:23594:Thread-3:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 300 ) ]", "msgType": "bgp"}

20170303 105738.480817:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:01', 'TPA': '172.0.1.1', 'SHA': 'a0:00:00:00:00:03', 'eth_src': 'a0:00:00:00:00:03', 'SPA': '172.0.1.1', 'THA': 'a0:00:00:00:00:03'}]
20170303 105738.480700:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 271:Event Received: BGP Update.
20170303 105738.477938:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 258:XRS Event received: {"bgp": {"counter": 1, "pid": "24118", "exabgp": "3.4.8", "host": "c16", "neighbor": {"ip": "172.0.0.11", "message": {"update": {"attribute": {"origin": "igp", "med": 0, "confederation-path": [], "as-path": [200]}, "announce": {"ipv4 unicast": {"172.0.0.11": {"140.0.0.0/24": {}, "150.0.0.0/24": {}}}}}}, "asn": {"peer": "200", "local": "65000"}, "address": {"peer": "172.0.0.11", "local": "172.0.255.254"}}, "time": 1488567458, "ppid": "11925", "type": "update"}}
20170303 105738.491216:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [], "auth_info": {"participant": 2, "key": "Part2Key"}}
20170303 105738.506936:22031:Thread-2:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:01', u'TPA': u'172.0.1.2', u'SHA': u'b0:00:00:00:00:02', u'eth_src': u'b0:00:00:00:00:02', u'SPA': u'172.0.1.2', u'THA': u'b0:00:00:00:00:02'}
20170303 105738.496549:23594:Thread-3:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 300 ) ]', u'msgType': u'bgp'}

20170303 105738.481957:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {2: 1, 3: 2}
20170303 105738.484787:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 2 --- processing update for prefix: 140.0.0.0/24
20170303 105738.478034:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 271:Event Received: BGP Update.
20170303 105738.491330:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 105738.496679:23594:Thread-3:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 300 ) ]", "msgType": "bgp"}

20170303 105738.482348:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.485246:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 2 ---Best Route after Selection: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.481125:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 3 --- processing update for prefix: 140.0.0.0/24
20170303 105738.491477:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 105738.509474:22031:Thread-3:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:02', u'TPA': u'172.0.1.3', u'SHA': u'80:00:00:00:00:03', u'eth_src': u'80:00:00:00:00:03', u'SPA': u'172.0.1.3', u'THA': u'80:00:00:00:00:03'}
20170303 105738.496801:23594:Thread-3:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 300 ) ]', u'msgType': u'bgp'}

20170303 105738.482499:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:01', 'TPA': '172.0.1.2', 'SHA': 'a0:00:00:00:00:03', 'eth_src': 'a0:00:00:00:00:03', 'SPA': '172.0.1.2', 'THA': 'a0:00:00:00:00:03'}]
20170303 105738.486806:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 2 Pushed: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.481582:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 3 ---Best Route after Selection: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.491580:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [], "auth_info": {"participant": 1, "key": "Part1Key"}}
20170303 105738.510679:22031:Thread-3:DEBUG:arp:arproxy/arproxy.py 103:Gratuitous ARP relayed: {u'eth_dst': u'00:00:00:00:00:02', u'TPA': u'172.0.1.4', u'SHA': u'80:00:00:00:00:03', u'eth_src': u'80:00:00:00:00:03', u'SPA': u'172.0.1.4', u'THA': u'80:00:00:00:00:03'}
20170303 105738.497075:23594:Thread-4:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.11 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 300 ) ]", "msgType": "bgp"}

20170303 105738.482615:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 300 ) ]
20170303 105738.486921:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 2 --- Best Path changed: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Older best route: None
20170303 105738.483715:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 3 Pushed: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.491670:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 105738.497150:23594:Thread-4:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.11 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 300 ) ]', u'msgType': u'bgp'}

20170303 105738.482771:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 300 ) ]
20170303 105738.487063:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 2 --- processing update for prefix: 150.0.0.0/24
20170303 105738.483840:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 3 --- Best Path changed: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'') Older best route: None
20170303 105738.491903:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [], "auth_info": {"participant": 2, "key": "Part2Key"}}
20170303 105738.497235:23594:Thread-4:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.11 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 300 ) ]", "msgType": "bgp"}

20170303 105738.482897:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 571:Time taken to send garps/announcements: 0.013571023941
20170303 105738.487496:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 2 ---Best Route after Selection: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.483988:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 3 --- processing update for prefix: 150.0.0.0/24
20170303 105738.492037:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488567458.49
20170303 105738.497318:23594:Thread-4:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.11 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 300 ) ]', u'msgType': u'bgp'}

20170303 105738.483080:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 258:XRS Event received: {"bgp": {"counter": 1, "pid": "24118", "exabgp": "3.4.8", "host": "c16", "neighbor": {"ip": "172.0.0.21", "message": {"update": {"attribute": {"origin": "igp", "med": 0, "confederation-path": [], "as-path": [300]}, "announce": {"ipv4 unicast": {"172.0.0.21": {"140.0.0.0/24": {}, "150.0.0.0/24": {}}}}}}, "asn": {"peer": "300", "local": "65000"}, "address": {"peer": "172.0.0.21", "local": "172.0.255.254"}}, "time": 1488567458, "ppid": "11925", "type": "update"}}
20170303 105738.489109:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 2 Pushed: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.484428:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 3 ---Best Route after Selection: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.492120:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 2
20170303 105738.507017:23594:Thread-3:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 200 ) ]", "msgType": "bgp"}

20170303 105738.483186:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 271:Event Received: BGP Update.
20170303 105738.489226:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 2 --- Best Path changed: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Older best route: None
20170303 105738.485767:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 3 Pushed: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.492243:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [], "auth_info": {"participant": 1, "key": "Part1Key"}}
20170303 105738.507115:23594:Thread-3:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 200 ) ]', u'msgType': u'bgp'}

20170303 105738.485780:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 1 --- processing update for prefix: 140.0.0.0/24
20170303 105738.489362:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 492:Time taken for decision process: 0.00855803489685
20170303 105738.485854:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 3 --- Best Path changed: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'') Older best route: None
20170303 105738.492332:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488567458.49
20170303 105738.507215:23594:Thread-3:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 200 ) ]", "msgType": "bgp"}

20170303 105738.486489:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 1 ---Best Route after Selection: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.489445:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 76:Updating supersets...
20170303 105738.485962:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 492:Time taken for decision process: 0.0078489780426
20170303 105738.492418:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 1
20170303 105738.507300:23594:Thread-3:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 200 ) ]', u'msgType': u'bgp'}

20170303 105738.487698:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 1 Pushed: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.489532:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.486029:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 76:Updating supersets...
20170303 105738.510760:23594:Thread-4:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.11 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 300 ) ]", "msgType": "bgp"}

20170303 105738.487790:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 1 --- Best Path changed: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Older best route: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.489888:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.486084:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.510829:23594:Thread-4:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.11 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 300 ) ]', u'msgType': u'bgp'}

20170303 105738.487883:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 1 --- processing update for prefix: 150.0.0.0/24
20170303 105738.490244:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.486379:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.510896:23594:Thread-4:INFO:XRS:xrs/route_server.py 59:
 PctrlClient: Trace: Got rv, original route: {"announcement": "neighbor 172.0.0.11 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 300 ) ]", "msgType": "bgp"}

20170303 105738.488593:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 1 ---Best Route after Selection: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.490345:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 503:Time taken to update supersets: 0.000901937484741
20170303 105738.486680:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.510972:23594:Thread-4:INFO:XRS:xrs/route_server.py 60:
 PctrlClient: Trace: Got rv, json route: {u'announcement': u'neighbor 172.0.0.11 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 300 ) ]', u'msgType': u'bgp'}

20170303 105738.489809:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 1 Pushed: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.490427:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 534:Time taken to deal with ss_changes: 1.19209289551e-06
20170303 105738.486762:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 503:Time taken to update supersets: 0.000734090805054
20170303 105738.489887:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 1 --- Best Path changed: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Older best route: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.490503:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 188:Pushing current flow mod queue:
20170303 105738.486822:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 534:Time taken to deal with ss_changes: 9.53674316406e-07
20170303 105738.489949:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 492:Time taken for decision process: 0.00668001174927
20170303 105738.490606:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 208:Attempting to connect to refmon server at localhost port 5555
20170303 105738.486874:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 188:Pushing current flow mod queue:
20170303 105738.490002:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 76:Updating supersets...
20170303 105738.491037:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 210:Connect to refmon successful.
20170303 105738.486950:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/lib.py 208:Attempting to connect to refmon server at localhost port 5555
20170303 105738.490062:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {2: 1, 3: 2}
20170303 105738.491155:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 547:Time taken to push dp msgs: 0.000648021697998
20170303 105738.487360:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/lib.py 210:Connect to refmon successful.
20170303 105738.517619:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.22 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]
20170303 105738.490337:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.492301:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 2 -- Previous Outbound route: None New Best Path: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.487485:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 547:Time taken to push dp msgs: 0.000603199005127
20170303 105738.517699:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.21 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]
20170303 105738.490609:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.494032:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 2 -- Previous Outbound route: None New Best Path: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.488553:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 3 -- Previous Outbound route: None New Best Path: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.517746:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.22 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]
20170303 105738.490679:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 503:Time taken to update supersets: 0.000677824020386
20170303 105738.495338:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.489855:23833:Thread-4:DEBUG:P3-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 3 -- Previous Outbound route: None New Best Path: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.517786:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.11 announce route 110.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 100 ) ]
20170303 105738.490736:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 534:Time taken to deal with ss_changes: 9.53674316406e-07
20170303 105738.495653:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.490887:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.517824:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.11 announce route 100.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 100 ) ]
20170303 105738.490782:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 188:Pushing current flow mod queue:
20170303 105738.495773:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:02', 'TPA': '172.0.1.3', 'SHA': '80:00:00:00:00:03', 'eth_src': '80:00:00:00:00:03', 'SPA': '172.0.1.3', 'THA': '80:00:00:00:00:03'}]
20170303 105738.491238:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.517862:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 300 ) ]
20170303 105738.490850:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 208:Attempting to connect to refmon server at localhost port 5555
20170303 105738.496439:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.491389:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:03', 'TPA': '172.0.1.3', 'SHA': '80:00:00:00:00:02', 'eth_src': '80:00:00:00:00:02', 'SPA': '172.0.1.3', 'THA': '80:00:00:00:00:02'}, {'eth_dst': '00:00:00:01:00:03', 'TPA': '172.0.1.3', 'SHA': '80:00:00:00:00:02', 'eth_src': '80:00:00:00:00:02', 'SPA': '172.0.1.3', 'THA': '80:00:00:00:00:02'}]
20170303 105738.517910:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 300 ) ]
20170303 105738.491146:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 210:Connect to refmon successful.
20170303 105738.496733:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.492230:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.517952:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.21 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 200 ) ]
20170303 105738.491233:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 547:Time taken to push dp msgs: 0.000447034835815
20170303 105738.496850:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:02', 'TPA': '172.0.1.4', 'SHA': '80:00:00:00:00:03', 'eth_src': '80:00:00:00:00:03', 'SPA': '172.0.1.4', 'THA': '80:00:00:00:00:03'}]
20170303 105738.492591:23833:Thread-4:DEBUG:P_3:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.517990:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.22 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 200 ) ]
20170303 105738.492309:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 1 -- Previous Outbound route: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') New Best Path: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.496954:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.11 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 300 ) ]
20170303 105738.492713:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:03', 'TPA': '172.0.1.4', 'SHA': '80:00:00:00:00:02', 'eth_src': '80:00:00:00:00:02', 'SPA': '172.0.1.4', 'THA': '80:00:00:00:00:02'}, {'eth_dst': '00:00:00:01:00:03', 'TPA': '172.0.1.4', 'SHA': '80:00:00:00:00:02', 'eth_src': '80:00:00:00:00:02', 'SPA': '172.0.1.4', 'THA': '80:00:00:00:00:02'}]
20170303 105738.518027:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.21 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 200 ) ]
20170303 105738.493845:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 1 -- Previous Outbound route: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') New Best Path: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.497059:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.11 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 300 ) ]
20170303 105738.492817:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.21 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 200 ) ]
20170303 105738.518064:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.22 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 200 ) ]
20170303 105738.494859:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {2: 1, 3: 2}
20170303 105738.497162:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 571:Time taken to send garps/announcements: 0.00592708587646
20170303 105738.492901:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.22 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 200 ) ]
20170303 105738.518100:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 300 ) ]
20170303 105738.495151:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.497320:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 258:XRS Event received: {"bgp": {"counter": 1, "pid": "24118", "exabgp": "3.4.8", "host": "c16", "neighbor": {"ip": "172.0.0.21", "message": {"update": {"attribute": {"origin": "igp", "med": 0, "confederation-path": [], "as-path": [300]}, "announce": {"ipv4 unicast": {"172.0.0.21": {"140.0.0.0/24": {}, "150.0.0.0/24": {}}}}}}, "asn": {"peer": "300", "local": "65000"}, "address": {"peer": "172.0.0.21", "local": "172.0.255.254"}}, "time": 1488567458, "ppid": "11925", "type": "update"}}
20170303 105738.492973:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.21 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 200 ) ]
20170303 105738.518136:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 300 ) ]
20170303 105738.495294:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:01', 'TPA': '172.0.1.1', 'SHA': 'a0:00:00:00:00:03', 'eth_src': 'a0:00:00:00:00:03', 'SPA': '172.0.1.1', 'THA': 'a0:00:00:00:00:03'}]
20170303 105738.497400:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 271:Event Received: BGP Update.
20170303 105738.493042:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.22 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 200 ) ]
20170303 105738.518172:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.11 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 300 ) ]
20170303 105738.495953:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {2: 1, 3: 2}
20170303 105738.499839:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 2 --- processing update for prefix: 140.0.0.0/24
20170303 105738.493111:23833:Thread-4:DEBUG:P_3:pctrl/participant_controller.py 571:Time taken to send garps/announcements: 0.00554203987122
20170303 105738.518209:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.11 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 300 ) ]
20170303 105738.496182:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.500498:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 2 ---Best Route after Selection: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.518245:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 200 ) ]
20170303 105738.496265:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:01', 'TPA': '172.0.1.2', 'SHA': 'a0:00:00:00:00:03', 'eth_src': 'a0:00:00:00:00:03', 'SPA': '172.0.1.2', 'THA': 'a0:00:00:00:00:03'}]
20170303 105738.501654:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 2 Pushed: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.518292:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 200 ) ]
20170303 105738.496340:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 300 ) ]
20170303 105738.501732:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 2 --- Best Path changed: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Older best route: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.518333:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.11 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 300 ) ]
20170303 105738.496443:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 300 ) ]
20170303 105738.501800:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 2 --- processing update for prefix: 150.0.0.0/24
20170303 105738.518375:24121:Thread-2:DEBUG:XRS-recv:/home/xiaohe/iSDX/xrs/client.py 62:neighbor 172.0.0.11 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 300 ) ]
20170303 105738.496529:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 571:Time taken to send garps/announcements: 0.00524401664734
20170303 105738.502379:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 2 ---Best Route after Selection: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.496633:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 258:XRS Event received: {"bgp": {"counter": 1, "pid": "24118", "exabgp": "3.4.8", "host": "c16", "neighbor": {"ip": "172.0.0.11", "message": {"update": {"attribute": {"origin": "igp", "med": 0, "confederation-path": [], "as-path": [200]}, "announce": {"ipv4 unicast": {"172.0.0.11": {"140.0.0.0/24": {}, "150.0.0.0/24": {}}}}}}, "asn": {"peer": "200", "local": "65000"}, "address": {"peer": "172.0.0.11", "local": "172.0.255.254"}}, "time": 1488567458, "ppid": "11925", "type": "update"}}
20170303 105738.503421:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 2 Pushed: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.496696:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 271:Event Received: BGP Update.
20170303 105738.503500:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 2 --- Best Path changed: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') Older best route: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.498733:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 1 --- processing update for prefix: 140.0.0.0/24
20170303 105738.503569:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 492:Time taken for decision process: 0.00610017776489
20170303 105738.499203:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 1 ---Best Route after Selection: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.503633:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 76:Updating supersets...
20170303 105738.500021:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 1 Pushed: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.503691:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.500085:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 1 --- Best Path changed: 140.0.0.0/24 RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'') Older best route: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.503966:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.500137:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 140: Peer Object for: 1 --- processing update for prefix: 150.0.0.0/24
20170303 105738.504261:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.500582:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 150: Peer Object for: 1 ---Best Route after Selection: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.504342:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 503:Time taken to update supersets: 0.000709056854248
20170303 105738.501372:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 158: Peer Object for: 1 Pushed: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'') Observing: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.504408:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 534:Time taken to deal with ss_changes: 1.19209289551e-06
20170303 105738.501428:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 159: Peer Object for: 1 --- Best Path changed: 150.0.0.0/24 RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'') Older best route: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.504468:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 188:Pushing current flow mod queue:
20170303 105738.501476:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 492:Time taken for decision process: 0.00472688674927
20170303 105738.504549:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 208:Attempting to connect to refmon server at localhost port 5555
20170303 105738.501517:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 76:Updating supersets...
20170303 105738.504895:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/lib.py 210:Connect to refmon successful.
20170303 105738.501575:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {2: 1, 3: 2}
20170303 105738.504991:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 547:Time taken to push dp msgs: 0.000520944595337
20170303 105738.501786:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.506120:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 2 -- Previous Outbound route: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') New Best Path: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.501853:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 140:Merge possible. Merging set([2, 3]) into superset [3, 2]
20170303 105738.507780:23813:Thread-4:DEBUG:P2-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 2 -- Previous Outbound route: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') New Best Path: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.501896:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 141:with new members [2]
20170303 105738.508859:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.502127:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.509234:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.502187:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 503:Time taken to update supersets: 0.000669002532959
20170303 105738.509341:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:02', 'TPA': '172.0.1.3', 'SHA': '80:00:00:00:00:03', 'eth_src': '80:00:00:00:00:03', 'SPA': '172.0.1.3', 'THA': '80:00:00:00:00:03'}]
20170303 105738.502233:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 522:Supersets have changed: {'changes': [{'position': 1, 'superset': 0, 'participant_id': 2}], 'type': 'update'}
20170303 105738.510064:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {}
20170303 105738.502309:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 528:Flow msgs: [{'rule_type': 'outbound', 'mod_type': 'insert', 'priority': 2, 'cookie': (1, 65535), 'action': {'fwd': ['inbound'], 'set_eth_dst': '80:00:00:00:00:02'}, 'match': {'eth_src': u'08:00:27:89:3b:9f', 'eth_dst': ('10:00:00:00:00:00', '50:00:00:00:00:00'), u'tcp_dst': 80}}]
20170303 105738.510377:23813:Thread-4:DEBUG:P_2:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.502350:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 534:Time taken to deal with ss_changes: 0.0001220703125
20170303 105738.510493:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:02', 'TPA': '172.0.1.4', 'SHA': '80:00:00:00:00:03', 'eth_src': '80:00:00:00:00:03', 'SPA': '172.0.1.4', 'THA': '80:00:00:00:00:03'}]
20170303 105738.502388:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 188:Pushing current flow mod queue:
20170303 105738.510609:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.11 announce route 140.0.0.0/24 next-hop 172.0.1.3 as-path [ ( 300 ) ]
20170303 105738.502431:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 193:MOD: {'rule_type': 'outbound', 'mod_type': 'insert', 'priority': 2, 'cookie': (1, 65535), 'action': {'fwd': ['inbound'], 'set_eth_dst': '80:00:00:00:00:02'}, 'match': {'eth_src': u'08:00:27:89:3b:9f', 'eth_dst': ('10:00:00:00:00:00', '50:00:00:00:00:00'), u'tcp_dst': 80}}
20170303 105738.510741:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.11 announce route 150.0.0.0/24 next-hop 172.0.1.4 as-path [ ( 300 ) ]
20170303 105738.502497:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 208:Attempting to connect to refmon server at localhost port 5555
20170303 105738.510833:23813:Thread-4:DEBUG:P_2:pctrl/participant_controller.py 571:Time taken to send garps/announcements: 0.00577807426453
20170303 105738.502776:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/lib.py 210:Connect to refmon successful.
20170303 105738.502839:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 547:Time taken to push dp msgs: 0.000449895858765
20170303 105738.503625:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 1 -- Previous Outbound route: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') New Best Path: RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.504913:23609:Thread-4:DEBUG:P1-peer:/home/xiaohe/iSDX/pctrl/peer.py 207: Peer Object for: 1 -- Previous Outbound route: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u'') New Best Path: RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')
20170303 105738.505777:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {2: 1, 3: 2}
20170303 105738.506003:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'140.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.502779:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 105738.506090:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:01', 'TPA': '172.0.1.1', 'SHA': 'b0:00:00:00:00:02', 'eth_src': 'b0:00:00:00:00:02', 'SPA': '172.0.1.1', 'THA': 'b0:00:00:00:00:02'}]
20170303 105738.502910:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [{"rule_type": "outbound", "mod_type": "insert", "priority": 2, "cookie": [1, 65535], "action": {"fwd": ["inbound"], "set_eth_dst": "80:00:00:00:00:02"}, "match": {"eth_src": "08:00:27:89:3b:9f", "eth_dst": ["10:00:00:00:00:00", "50:00:00:00:00:00"], "tcp_dst": 80}}], "auth_info": {"participant": 1, "key": "Part1Key"}}
20170303 105738.506545:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 67:: RuleCounts:: {2: 1, 3: 2}
20170303 105738.502996:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 105738.506759:23609:Thread-4:DEBUG:P_1:/home/xiaohe/iSDX/pctrl/supersets.py 291:Supersets all routes:: [RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.22', next_hop=u'172.0.0.22', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.21', next_hop=u'172.0.0.21', origin=u'igp', as_path=[300], communities=u'', med=0, atomic_aggregate=u''), RibTuple(prefix=u'150.0.0.0/24', neighbor=u'172.0.0.11', next_hop=u'172.0.0.11', origin=u'igp', as_path=[200], communities=u'', med=0, atomic_aggregate=u'')]
20170303 105738.503202:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [{"rule_type": "outbound", "mod_type": "insert", "priority": 2, "cookie": [1, 65535], "action": {"fwd": ["inbound"], "set_eth_dst": "80:00:00:00:00:02"}, "match": {"eth_src": "08:00:27:89:3b:9f", "eth_dst": ["10:00:00:00:00:00", "50:00:00:00:00:00"], "tcp_dst": 80}}], "auth_info": {"participant": 1, "key": "Part1Key"}}
20170303 105738.506835:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 457:Sending Gratuitious ARP: [{'eth_dst': '00:00:00:00:00:01', 'TPA': '172.0.1.2', 'SHA': 'b0:00:00:00:00:02', 'eth_src': 'b0:00:00:00:00:02', 'SPA': '172.0.1.2', 'THA': 'b0:00:00:00:00:02'}]
20170303 105738.503285:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488567458.5
20170303 105738.506901:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.1 announce route 140.0.0.0/24 next-hop 172.0.1.1 as-path [ ( 200 ) ]
20170303 105738.503352:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 1
20170303 105738.506971:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 577:Sending announcements to XRS: neighbor 172.0.0.1 announce route 150.0.0.0/24 next-hop 172.0.1.2 as-path [ ( 200 ) ]
20170303 105738.503435:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 153:FLOWMOD from 1: {"rule_type": "outbound", "mod_type": "insert", "priority": 2, "cookie": [1, 65535], "action": {"fwd": ["inbound"], "set_eth_dst": "80:00:00:00:00:02"}, "match": {"eth_src": "08:00:27:89:3b:9f", "eth_dst": ["10:00:00:00:00:00", "50:00:00:00:00:00"], "tcp_dst": 80}}
20170303 105738.507039:23609:Thread-4:DEBUG:P_1:pctrl/participant_controller.py 571:Time taken to send garps/announcements: 0.00415802001953
20170303 105738.504829:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 73:server: accepted connection
20170303 105738.504999:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 82:server: received message: {"flow_mods": [], "auth_info": {"participant": 2, "key": "Part2Key"}}
20170303 105738.505085:22006:GreenThread-1:INFO:RefMon_Server:/home/xiaohe/iSDX/flanc/server.py 85:server: msg queued
20170303 105738.505243:22006:GreenThread-3:INFO:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 130:refmon: received flowmod request {"flow_mods": [], "auth_info": {"participant": 2, "key": "Part2Key"}}
20170303 105738.505322:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 150:BURST: 1488567458.51
20170303 105738.505393:22006:GreenThread-3:DEBUG:ReferenceMonitor:/home/xiaohe/iSDX/flanc/refmon.py 151:PARTICIPANT: 2
20170303 105739.150994:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 192:Waiting for BGP update...
20170303 105809.188159:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 192:Waiting for BGP update...
20170303 105839.225688:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 192:Waiting for BGP update...
20170303 105909.262688:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 192:Waiting for BGP update...
20170303 105939.299576:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 192:Waiting for BGP update...
20170303 110009.333983:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 192:Waiting for BGP update...
20170303 110039.370337:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 192:Waiting for BGP update...
20170303 110109.407482:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 192:Waiting for BGP update...
20170303 110139.442703:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 192:Waiting for BGP update...
20170303 110209.480350:23594:Thread-1:DEBUG:XRS:xrs/route_server.py 192:Waiting for BGP update...
